# Welcome to your prefect.yaml file! You can use this file for storing and managing
# configuration for deploying your flows. We recommend committing this file to source
# control along with your flow code.

# Generic metadata about this project
name: modal-prefect-simplest
prefect-version: 3.4.1

build: null
push: null
pull:
  - prefect.deployments.steps.set_working_directory:
      directory: /opt/prefect/app

# the deployments section allows you to provide configuration for deploying flows
deployments:
  - name: first-flow
    version: null
    tags: []
    concurrency_limit: null
    description: This one runs on Prefect infra
    entrypoint: main.py:the_flow
    parameters: {}
    work_pool:
      # name: my-pool
      name: my-pool
      work_queue_name: null
      job_variables: {}
    schedules: []
  - name: second-flow
    version: null
    tags: []
    concurrency_limit: null
    description: This one runs on Modal
    entrypoint: main.py:the_another_flow
    parameters: {}
    work_pool:
      # name: my-pool
      name: modal-pool
      work_queue_name: null
      job_variables: {}
    schedules: []
  - name: third-flow
    version: null
    tags: []
    concurrency_limit: null
    description: This one runs on Modal and hopefully calls another `@flow`
    entrypoint: main.py:flow_sees_flow
    parameters: {}
    work_pool:
      name: modal-pool
      work_queue_name: null
      job_variables: {}
    schedules: []
